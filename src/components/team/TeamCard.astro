---
import { Image } from "astro:assets";
import { getLangFromUrl, useTranslations } from '@i18n/utils';

import type { ImageMetadata } from "astro";
import type { ui, defaultLang } from "@i18n/ui";

interface Props {
    image: ImageMetadata;
    role: string;
    name: string;
    pseudo: string;
    resignation?: boolean;
}
const { image, role, name, pseudo, resignation } = Astro.props;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="relative flex flex-col items-center gap-10 ml-6 text-center rounded-2xl border border-transparent hover:border-sky-400 hover:cursor-pointer p-2">
    {resignation && ( // TODO: to be improved
        <div class="z-10 absolute inset-0 flex items-center justify-center text-neutral-300 font-semibold rounded-lg w-full h-full bg-neutral-900/80 backdrop-blur-[1px]">
            {t('team.resignation')}
        </div>
    )}
    <figure class="z-0 relative h-40 md:h-64 w-40 md:w-64 overflow-hidden rounded-2xl bg-transparent">
        <Image src={image} alt="" class="absolute inset-0 w-full h-auto" />
    </figure>
    <div class="z-0 space-y-4">
        <p class="text-2xl md:text-3xl">{name}</p>
        <p class="opacity-75 md:text-lg">{role}</p>
        <p class="font-mono text-sm text-red-500 font-semibold drop-shadow-pseudo">{pseudo}</p>
    </div>
</div>